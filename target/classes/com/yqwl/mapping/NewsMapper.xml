<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.yqwl.dao.NewsMapper">
  <resultMap id="BaseResultMap" type="com.yqwl.pojo.News">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="id" jdbcType="BIGINT" property="id" />
    <result column="type" jdbcType="VARCHAR" property="type" />
    <result column="title" jdbcType="VARCHAR" property="title" />
    <result column="key_words" jdbcType="VARCHAR" property="key_words" />
    <result column="img_one" jdbcType="VARCHAR" property="img_one" />
    <result column="img_two" jdbcType="VARCHAR" property="img_two" />
    <result column="img_three" jdbcType="VARCHAR" property="img_three" />
    <result column="source" jdbcType="VARCHAR" property="source" />
    <result column="status" jdbcType="INTEGER" property="status" />
    <result column="time" jdbcType="TIMESTAMP" property="time" />
  </resultMap>
  <resultMap extends="BaseResultMap" id="ResultMapWithBLOBs" type="com.yqwl.pojo.News">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <result column="content" jdbcType="LONGVARCHAR" property="content" />
  </resultMap>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    `id`, `type`, `title`,content, `key_words`, `img_one`, `img_two`, `img_three`, `source`, 
    `status`, `time`
  </sql>
  <sql id="Blob_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    `content`
  </sql>
  <select id="selectByPrimaryKey" parameterType="java.lang.Long" resultMap="ResultMapWithBLOBs">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select 
    <include refid="Base_Column_List" />
    ,
    <include refid="Blob_Column_List" />
    from `t_news`
    where `id` = #{id,jdbcType=BIGINT}
   
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Long">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from `t_news`
    where `id` = #{id,jdbcType=BIGINT}
  </delete>
  <insert id="insert" parameterType="com.yqwl.pojo.News">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <selectKey keyProperty="id" order="AFTER" resultType="java.lang.Long">
      SELECT LAST_INSERT_ID()
    </selectKey>
    insert into `t_news` (`type`, `title`, `key_words`, 
      `img_one`, `img_two`, `img_three`, 
      `source`, `status`, `time`, 
      `content`)
    values (#{type,jdbcType=VARCHAR}, #{title,jdbcType=VARCHAR}, #{key_words,jdbcType=VARCHAR}, 
      #{img_one,jdbcType=VARCHAR}, #{img_two,jdbcType=VARCHAR}, #{img_three,jdbcType=VARCHAR}, 
      #{source,jdbcType=VARCHAR}, #{status,jdbcType=INTEGER}, #{time,jdbcType=TIMESTAMP}, 
      #{content,jdbcType=LONGVARCHAR})
  </insert>
  <insert id="insertSelective" parameterType="com.yqwl.pojo.News">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <selectKey keyProperty="id" order="AFTER" resultType="java.lang.Long">
      SELECT LAST_INSERT_ID()
    </selectKey>
    insert into `t_news`
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="type != null">
        `type`,
      </if>
      <if test="title != null">
        `title`,
      </if>
      <if test="key_words != null">
        `key_words`,
      </if>
      <if test="img_one != null">
        `img_one`,
      </if>
      <if test="img_two != null">
        `img_two`,
      </if>
      <if test="img_three != null">
        `img_three`,
      </if>
      <if test="source != null">
        `source`,
      </if>
      <if test="status != null">
        `status`,
      </if>
      <if test="time != null">
        `time`,
      </if>
      <if test="content != null">
        `content`,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="type != null">
        #{type,jdbcType=VARCHAR},
      </if>
      <if test="title != null">
        #{title,jdbcType=VARCHAR},
      </if>
      <if test="key_words != null">
        #{key_words,jdbcType=VARCHAR},
      </if>
      <if test="img_one != null">
        #{img_one,jdbcType=VARCHAR},
      </if>
      <if test="img_two != null">
        #{img_two,jdbcType=VARCHAR},
      </if>
      <if test="img_three != null">
        #{img_three,jdbcType=VARCHAR},
      </if>
      <if test="source != null">
        #{source,jdbcType=VARCHAR},
      </if>
      <if test="status != null">
        #{status,jdbcType=INTEGER},
      </if>
      <if test="time != null">
        #{time,jdbcType=TIMESTAMP},
      </if>
      <if test="content != null">
        #{content,jdbcType=LONGVARCHAR},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.yqwl.pojo.News">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update `t_news`
    <set>
      <if test="type != null">
        `type` = #{type,jdbcType=VARCHAR},
      </if>
      <if test="title != null">
        `title` = #{title,jdbcType=VARCHAR},
      </if>
      <if test="key_words != null">
        `key_words` = #{key_words,jdbcType=VARCHAR},
      </if>
      <if test="img_one != null">
        `img_one` = #{img_one,jdbcType=VARCHAR},
      </if>
      <if test="img_two != null">
        `img_two` = #{img_two,jdbcType=VARCHAR},
      </if>
      <if test="img_three != null">
        `img_three` = #{img_three,jdbcType=VARCHAR},
      </if>
      <if test="source != null">
        `source` = #{source,jdbcType=VARCHAR},
      </if>
      <if test="status != null">
        `status` = #{status,jdbcType=INTEGER},
      </if>
      <if test="time != null">
        `time` = #{time,jdbcType=TIMESTAMP},
      </if>
      <if test="content != null">
        `content` = #{content,jdbcType=LONGVARCHAR},
      </if>
    </set>
    where `id` = #{id,jdbcType=BIGINT}
  </update>
  <update id="updateByPrimaryKeyWithBLOBs" parameterType="com.yqwl.pojo.News">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update `t_news`
    set `type` = #{type,jdbcType=VARCHAR},
      `title` = #{title,jdbcType=VARCHAR},
      `key_words` = #{key_words,jdbcType=VARCHAR},
      `img_one` = #{img_one,jdbcType=VARCHAR},
      `img_two` = #{img_two,jdbcType=VARCHAR},
      `img_three` = #{img_three,jdbcType=VARCHAR},
      `source` = #{source,jdbcType=VARCHAR},
      `time` = #{time,jdbcType=TIMESTAMP},
      `content` = #{content,jdbcType=LONGVARCHAR}
    where `id` = #{id,jdbcType=BIGINT}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.yqwl.pojo.News">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update `t_news`
    set `type` = #{type,jdbcType=VARCHAR},
      `title` = #{title,jdbcType=VARCHAR},
      `key_words` = #{key_words,jdbcType=VARCHAR},
      `img_one` = #{img_one,jdbcType=VARCHAR},
      `img_two` = #{img_two,jdbcType=VARCHAR},
      `img_three` = #{img_three,jdbcType=VARCHAR},
      `source` = #{source,jdbcType=VARCHAR},
      `status` = #{status,jdbcType=INTEGER},
      `time` = #{time,jdbcType=TIMESTAMP}
    where `id` = #{id,jdbcType=BIGINT}
  </update>
  
  <select id="listAll" resultMap="BaseResultMap">
		select <include refid="Base_Column_List" /> from t_news WHERE status=0 limit #{beginPageIndex},#{limit}
	</select>
	
	 <select id="listAllCount" resultType="java.lang.Integer">
	select COUNT(*) from `t_news` WHERE status=0
  </select>
  <!-- 获得企业动态 -->
  <select id="getBusinessMovement" resultType="com.yqwl.pojo.News">
    SELECT id,
    type,
    title,
    key_words,
    img_one,    
    img_two, img_three, 
    source,status,time, 
    content
    FROM t_news
    WHERE type=#{type}
    and status = 0
    limit #{beginPageIndex},#{limit}
  </select>
  
   <select id="getNewsCount" resultType="java.lang.Integer">
    SELECT
        COUNT(*) FROM t_news WHERE TYPE='企业动态' AND status=1;
  </select>
</mapper>